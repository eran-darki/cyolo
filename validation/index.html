<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>âœ…</text></svg>">
  <title>Validation Example</title>
  <style>
    :root {
      --orange: #FF6645;
    }
    .container {
      max-width: 1110px;
    }
    .btn, .btn:hover, .btn:focus, .btn:focus-visible, .btn:active, .btn:first-child:active {
      color: #fff;
      background-color: var(--orange);
      padding: 2px 24px;
    }
    .form-control:focus {
      box-shadow: none;
    }
  </style>
</head>
<body>
  <div class="container p-5">
    <header class="text-center">
      <h2>Mandatory Fields and Validation Example</h2>
      <p>The validation will be triggered when any of the following actions take place</p>
    </header>

    <main class="my-5">
      <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active show" id="button-click-tab" data-bs-toggle="tab" data-bs-target="#button-click" type="button" role="tab" aria-controls="button-click" aria-selected="true" onclick="removeValidation()">Button Click</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="focus-out-tab" data-bs-toggle="tab" data-bs-target="#focus-out" type="button" role="tab" aria-controls="focus-out" aria-selected="false" onclick="removeValidation(); inputFocus()">Focus Out</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="enter-key-tab" data-bs-toggle="tab" data-bs-target="#enter-key" type="button" role="tab" aria-controls="enter-key" aria-selected="false" onclick="removeValidation(); inputFocus()">Enter Key</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="exit-edit-tab" data-bs-toggle="tab" data-bs-target="#exit-edit" type="button" role="tab" aria-controls="exit-edit" aria-selected="false" onclick="removeValidation(); inputFocus()">Exit Edit</button>
        </li>
      </ul>
      <!-- Content -->
      <div class="tab-content mt-4">
         <!-- Tab 1 -->
          <div class="tab-pane show active" id="button-click" role="tabpanel" aria-labelledby="button-click-tab" tabindex="0">
            <h4 class="mb-4">Click one of the buttons</h4>
            <div class="d-flex flex-row-reverse mb-3">
              <button type="button" class="btn" onclick="validation(); showStep2()">Save</button>
            </div>
            <div class="card mb-3">
              <div class="card-header fs-5 bg-body">Step 1</div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md">
                    <label class="form-label">Name<span class="text-danger">*</span></label>
                    <input type="text" class="form-control mandatory" placeholder="Name">
                    <div class="text-danger d-none"><small>This field is required.</small></div>
                  </div>
                  <div class="col-md">
                    <label class="form-label">URL address<span class="text-danger">*</span></label>
                    <input type="text" class="form-control mandatory" placeholder="example.cyolo.io">
                    <div class="text-danger d-none"><small>Enter a valid URL address.</small></div>
                  </div>
                  <div class="col-md">
                    <label class="form-label">Example</label>
                    <input type="text" class="form-control" placeholder="Example">
                  </div>
                </div>
              </div>
              <div class="card-footer bg-body py-3">
                <button type="button" class="btn" onclick="validation()">Next</button>
              </div>
            </div>
            <div class="card overflow-hidden">
              <div class="card-header fs-5 bg-body">Step 2</div>
              <div id="step2" class="card-body d-none">
                <div class="row">
                  <div class="col-md">
                    <label class="form-label">Internal address / URL<span class="text-danger">*</span></label>
                    <input type="text" class="form-control mandatory" placeholder="E.g. 172.16.0.0">
                    <div class="text-danger d-none"><small>Enter a valid value.</small></div>
                  </div>
                  <div class="col-md">
                    <label class="form-label">Subdomain<span class="text-danger">*</span></label>
                    <input type="text" class="form-control mandatory" placeholder="example.cyolo.io">
                    <div class="text-danger d-none"><small>This field is required.</small></div>
                  </div>
                  <div class="col-md">
                    <label class="form-label">Example</label>
                    <input type="text" class="form-control" placeholder="Example">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Tab 2 -->
           <div class="tab-pane" id="focus-out" role="tabpanel" aria-labelledby="focus-out-tab" tabindex="0">
            <h4 class="mb-4">Focus out from the mandatory field</h4>
            <div class="d-flex flex-row-reverse mb-3">
              <button type="button" class="btn">Save</button>
            </div>
            <div class="card">
              <div class="card-header fs-5 bg-body">Example 2</div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md">
                    <label class="form-label">IP address<span class="text-danger">*</span></label>
                    <input type="text" class="form-control mandatory" placeholder="E.g. 172.16.0.0" onfocusout="validation()">
                    <div class="text-danger d-none"><small>Enter a valid value.</small></div>
                  </div>
                  <div class="col-md">
                    <label class="form-label">Network name</label>
                    <input type="text" class="form-control" placeholder="E.g. Private Network">
                  </div>
                  <div class="col-md">
                    <label class="form-label">Example</label>
                    <input type="text" class="form-control" placeholder="Example">
                  </div>
                </div>
              </div>
              <div class="card-footer bg-body py-3">
                <button type="button" class="btn">Next</button>
              </div>
            </div>
           </div>
          <!-- Tab 3 -->
           <div class="tab-pane" id="enter-key" role="tabpanel" aria-labelledby="enter-key-tab" tabindex="0">
            <h4 class="mb-4">Press the Enter key when the mandatory field is focused</h4>
            <div class="d-flex flex-row-reverse mb-3">
              <button type="button" class="btn">Save</button>
            </div>
            <div class="card">
              <div class="card-header fs-5 bg-body">Example 3</div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md">
                    <label class="form-label">Name<span class="text-danger">*</span></label>
                    <input type="text" class="form-control mandatory" placeholder="Name" onkeypress="validation()">
                    <div class="text-danger d-none"><small>This field is required.</small></div>
                  </div>
                  <div class="col-md">
                    <label class="form-label">Description</label>
                    <input type="text" class="form-control" placeholder="Description">
                  </div>
                  <div class="col-md">
                    <label class="form-label">Example</label>
                    <input type="text" class="form-control" placeholder="Example">
                  </div>
                </div>
              </div>
              <div class="card-footer bg-body py-3">
                <button type="button" class="btn">Next</button>
              </div>
            </div>
           </div>
          <!-- Tab 4 -->
           <div class="tab-pane" id="exit-edit" role="tabpanel" aria-labelledby="exit-edit-tab" tabindex="0">
            <h4 class="mb-4">Leave the edited page without saving (change tab)</h4>
            <div class="d-flex flex-row-reverse mb-3">
              <button type="button" class="btn">Save</button>
            </div>
            <div class="card">
              <div class="card-header fs-5 bg-body">Example 4</div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md">
                    <label class="form-label">Name<span class="text-danger">*</span></label>
                    <input type="text" class="form-control mandatory" placeholder="Name" value="Edited">
                    <div class="text-danger d-none"><small>This field is required.</small></div>
                  </div>
                  <div class="col-md">
                    <label class="form-label">Description</label>
                    <input type="text" class="form-control" placeholder="Description" value="Edited">
                  </div>
                  <div class="col-md">
                    <label class="form-label">Example</label>
                    <input type="text" class="form-control" placeholder="Example" value="Edited">
                  </div>
                </div>
              </div>
              <div class="card-footer bg-body py-3">
                <button type="button" class="btn">Next</button>
              </div>
            </div>
           </div>
      </div>
    </main>

  </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script>
  const mandatoryField = document.querySelectorAll('.mandatory');
  const step2card = document.getElementById('step2');
  
  function validation() {
    mandatoryField.forEach(function(inputField){
      inputField.classList.add('border-danger');
      inputField.nextElementSibling.classList.remove('d-none');
    });
  };

  function removeValidation() {
    mandatoryField.forEach(function(inputField){
      inputField.classList.remove('border-danger');
      inputField.nextElementSibling.classList.add('d-none');
    });
    step2card.classList.add('d-none');
  };

  function inputFocus() {
    mandatoryField.forEach(function(inputField){
      inputField.focus();
    });
  };

  function showStep2() {
    step2card.classList.remove('d-none');
  }
  
  // Confirmation before navigation
  const exitEditTab = document.getElementById('exit-edit-tab');
  exitEditTab.addEventListener('hide.bs.tab', event => {
    const text = 'You have unsaved changes.\nAre you sure you want to leave the page?';
    if (confirm(text) == false) {
      event.preventDefault();
      bootstrap.Tab.getInstance(event.target).show();
    } else {
      window.removeEventListener('beforeunload', beforeUnloadHandler);
    }
  });
  // Confirmation before closing window
  exitEditTab.addEventListener('focus', (event) => {
    window.addEventListener('beforeunload', beforeUnloadHandler);
  });
  
  const beforeUnloadHandler = (event) => {
    event.preventDefault();
    event.returnValue = true; // Included for legacy support, e.g. Chrome/Edge < 119
  };
</script>
</html>